function jsfn_SetProvinceDropDown() { $("#cboProvince").on("change", function () { fn_ShowHideLoadingDiv("Show"); var n = "cboProvince@@" + ($("#cboProvince").val() == null ? "" : $("#cboProvince").val().toString()); n += "~~cboCity@@" + ($("#cboCity").val() == null ? "" : $("#cboCity").val().toString()); n += "~~cboSuburb@@" + ($("#cboSuburb").val() == null ? "" : $("#cboSuburb").val().toString()); callBack("ChangeProvince", "", n) }) } function jsfn_SetCityDropDown() { $("#cboCity").on("change", function () { fn_ShowHideLoadingDiv("Show"); var n = "cboProvince@@" + ($("#cboProvince").val() == null ? "" : $("#cboProvince").val().toString()); n += "~~cboCity@@" + ($("#cboCity").val() == null ? "" : $("#cboCity").val().toString()); n += "~~cboSuburb@@" + ($("#cboSuburb").val() == null ? "" : $("#cboSuburb").val().toString()); callBack("ChangeCity", "", n) }) } function jsfn_SetRequestProvinceDropDown() { $("#cboRequestProvince").on("change", function () { fn_ShowHideLoadingDiv("Show"); var n = "cboRequestProvince@@" + ($("#cboRequestProvince").val() == null ? "" : $("#cboRequestProvince").val().toString()); n += "~~cboRequestCity@@" + ($("#cboRequestCity").val() == null ? "" : $("#cboRequestCity").val().toString()); n += "~~cboRequestSuburb@@" + ($("#cboRequestSuburb").val() == null ? "" : $("#cboRequestSuburb").val().toString()); callBack("ChangeRequestProvince", "", n) }) } function jsfn_SetRequestCityDropDown() { $("#cboRequestCity").on("change", function () { fn_ShowHideLoadingDiv("Show"); var n = "cboRequestProvince@@" + ($("#cboRequestProvince").val() == null ? "" : $("#cboRequestProvince").val().toString()); n += "~~cboRequestCity@@" + ($("#cboRequestCity").val() == null ? "" : $("#cboRequestCity").val().toString()); n += "~~cboRequestSuburb@@" + ($("#cboRequestSuburb").val() == null ? "" : $("#cboRequestSuburb").val().toString()); callBack("ChangeRequestCity", "", n) }) } function jsfn_SaveRequest() { for (var t, u, f = document.getElementsByName("hdnFilePath"), i = document.getElementsByName("hdnFile"), o = document.getElementsByName("hdnIRUploadID"), e = document.getElementsByName("hdnFileStatus"), r = { item: [] }, n = 0; n < i.length; n++) e[n].value == "1" && r.item.push(f[n].value); t = "fileDetails@@"; i.length > 0 && (t += r.item.toString()); u = "txtTitle@txtDescription@cboRequestCategory@cboRequestProvince@cboRequestCity@cboRequestSuburb"; callBack("SaveRequest", u, t) } function fn_OnFileUpload(n, t, i, r) { n == "1" && addNewFileRow(t, i, r) } function addNewFileRow(n, t) { var i = $(".uploaded-oimages").length + 1; $Iconhtml = $("<i />").addClass("fa fa-times").attr("style", "cursor:pointer").attr("onclick", "javascript:fn_DeactivateFileRow(" + i + ");"); $Imghtml = $("<img />").addClass("small-rounded-img").attr("src", "http://www.ezyfind.co.za/" + n); $hdnFileId = $("<input />").attr("type", "hidden").attr("id", "hdnIRUploadID_" + i).attr("name", "hdnIRUploadID").attr("value", "0"); $hdnFileStatus = $("<input />").attr("type", "hidden").attr("id", "hdnFileStatus_" + i).attr("name", "hdnFileStatus").attr("value", "1"); hdnFilePath = $("<input />").attr("type", "hidden").attr("id", "hdnFilePath_" + i).attr("name", "hdnFilePath").attr("value", n); hdnFile = $("<input />").attr("type", "hidden").attr("id", "hdnFile_" + i).attr("name", "hdnFile").attr("value", t); $dvUploadedImages = $("<div />").addClass("uploaded-oimages").html($Iconhtml).append($Imghtml).append($hdnFileId).append($hdnFileStatus).append(hdnFilePath).append(hdnFile).attr("id", "dvImage_" + i); $("#dvlUploadImages").append($dvUploadedImages) } function fn_DeactivateFileRow(n) { return $("#hdnDelFileRowId").val(n), $("#modalConfirmFileDelete").modal("show"), !1 } function confirmFileDelete(n) { if ($("#modalConfirmFileDelete").modal("hide"), n == "1") { var t = $("#hdnDelFileRowId").val(); return $("#dvImage_" + t).hide(), $("#hdnFileStatus_" + t).val(0), !1 } return !1 } function getResponse(n) { try { fn_Show_HideBlureDiv("fixdiv", "Hide"); var t = $.parseJSON(n); if (t.Track == "ChangeProvince") $("#dvcboCity").html(t.cboCity), $("#dvcboSuburb").html(t.cboSuburb), jsfn_SetCityDropDown(); else if (t.Track == "ChangeCity") $("#dvcboSuburb").html(t.cboSuburb); else if (t.Track == "ChangeRequestProvince") $("#dvcboRequestCity").html(t.cboRequestCity), $("#dvcboRequestSuburb").html(t.cboRequestSuburb), jsfn_SetRequestCityDropDown(); else if (t.Track == "ChangeCity") $("#dvcboRequestSuburb").html(t.cboRequestSuburb); else if (t.Track == "LoginNRequest") t.IsSuccess == "1" ? ($("#hdnPostFrom").val(2), jsfn_SaveRequest()) : show_globalMessage("<b>Error<\/b>: " + t.ErrorMsg, "error"); else if (t.Track == "FacebookLogin") t.IsSuccess == "1" ? ($("#hdnPostFrom").val(2), jsfn_SaveRequest()) : show_globalMessage("<b>Error<\/b>: " + t.ErrorMsg, "error"); else if (t.Track == "LinkedInLogin") t.IsSuccess == "1" ? ($("#hdnPostFrom").val(2), jsfn_SaveRequest()) : show_globalMessage("<b>Error<\/b>: " + t.ErrorMsg, "error"); else if (t.Track == "GoogleLogin") t.IsSuccess == "1" ? ($("#hdnPostFrom").val(2), jsfn_SaveRequest()) : show_globalMessage("<b>Error<\/b>: " + t.ErrorMsg, "error"); else if (t.Track == "RegisterUser") t.IsSuccess == "1" ? ($("#hdnPostFrom").val(1), jsfn_SaveRequest()) : t.IsSuccess == "-1" ? ($("#dvLoginDetails").show(), $("#dvRegisterDetails").hide()) : show_globalMessage("<b>Error<\/b>: " + t.ErrorMsg, "error"); else if (t.Track == "SaveRequest") switch (t.OperationResult) { case "Successful": $("#dvSuccessDetails").show(); $("#dvLoginDetails").hide(); break; case "UnSuccessful": show_globalMessage("Error Code 0001:Problem in Insertion.", "error"); break; case "TechniqnicalIssueWithException": show_globalMessage("Error Code 0003:Failure Due to Technical Issue.", "error"); break; default: show_globalMessage("Error Code 0004:Error Occured.", "error") } } catch (i) { show_globalMessage("Error:" + i.message, "error") } } var m_strSelectedProvinceId = "", m_strSelectedCityId = "", m_strSelectedSuburbId = ""; $(document).ready(function () { $(document).scrollTop(0); jsfn_SetProvinceDropDown(); jsfn_SetCityDropDown(); jsfn_SetRequestProvinceDropDown(); jsfn_SetRequestCityDropDown(); $("#dvCategoryDetails").hide(); $("#dvAreaDetails").hide(); $("#dvImageDetails").hide(); $("#dvLoginDetails").hide(); $("#dvRegisterDetails").hide(); $("#dvSuccess").hide(); $("#cmdRDNext").on("click", function () { Page_ClientValidate("vgRequestDetails") && ($("#dvRequestDetails").hide(), $("#dvCategoryDetails").show(), $("#cboRequestCategory").focus()) }); $("#cmdCAPrev").on("click", function () { $("#dvCategoryDetails").hide(); $("#dvRequestDetails").show() }); $("#cmdCANext").on("click", function () { Page_ClientValidate("vgCategoryDetails") && ($("#dvCategoryDetails").hide(), $("#dvAreaDetails").show(), $("#cboRequestProvince").focus()) }); $("#cmdADPrev").on("click", function () { $("#dvCategoryDetails").show(); $("#dvAreaDetails").hide() }); $("#cmdADNext").on("click", function () { Page_ClientValidate("vgAreaDetails") && ($("#dvAreaDetails").hide(), $("#dvImageDetails").show(), $("#ifmUploadFile").get(0).contentWindow.location.href = "/General/UploadMultipleFiles.aspx?Type=RequestItem&TRACK=Edit") }); $("#cmdUIPrev").on("click", function () { $("#dvAreaDetails").show(); $("#dvImageDetails").hide() }); $("#cmdUINext").on("click", function () { $("#dvImageDetails").hide(); $("#dvRegisterDetails").show() }); $("#cmdRegPrev").on("click", function () { $("#dvImageDetails").show(); $("#dvRegisterDetails").hide() }); $("#cmdULPrev").on("click", function () { $("#dvRegisterDetails").show(); $("#dvLoginDetails").hide() }); $("#cmdULNext").on("click", function () { return Page_ClientValidate("vgRLogin") && callBack("LoginNRequest", "txtRUserName@txtRPassword", ""), !1 }); $("#anRLogin").on("click", function () { $("#dvLoginDetails").show(); $("#dvRegisterDetails").hide() }); $("#cmdRegNext").on("click", function () { return Page_ClientValidate("vgRRegister") && callBack("RegisterUser", "txtREmail@txtRMobileNumber", ""), !1 }); jsfn_SetDefault("dvRequestDetails", "cmdRDNext"); jsfn_SetDefault("dvCategoryDetails", "cmdCANext"); jsfn_SetDefault("dvAreaDetails", "cmdADNext"); jsfn_SetDefault("dvImageDetails", "cmdFinal") });


document.addEventListener("DOMContentLoaded",
    function () {
        var div, n,
            v = document.getElementsByClassName("youtube-player");
        for (n = 0; n < v.length; n++) {
            div = document.createElement("div");
            div.setAttribute("data-id", v[n].dataset.id);
            div.setAttribute("height", "320px");
            div.setAttribute("width", "180px");
            div.innerHTML = labnolThumb(v[n].dataset.id);
            div.onclick = labnolIframe;
            v[n].appendChild(div);
        }
    });

function labnolThumb(id) {
    var thumb = '<img src="https://i.ytimg.com/vi/ID/hqdefault.jpg">',
        play = '<div class="play"></div>';
    return thumb.replace("ID", id) + play;
}

function labnolIframe() {
    var iframe = document.createElement("iframe");
    var embed = "https://www.youtube.com/embed/ID?autoplay=1";
    iframe.setAttribute("src", embed.replace("ID", this.dataset.id));
    iframe.setAttribute("frameborder", "0");
    iframe.setAttribute("allowfullscreen", "1");
    iframe.setAttribute("height", "320px");
    iframe.setAttribute("width", "420px");
    this.parentNode.replaceChild(iframe, this);
}







